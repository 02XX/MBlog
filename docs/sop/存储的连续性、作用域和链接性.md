---
title: 存储的连续性、作用域和链接性
tags: []
categories:
  - [未分类]
date: 2023-04-04T00:49:29.000Z
updated: 2024-10-14T13:56:19.065Z
comments: false

---

<!--more-->
# 1 存储的连续性、作用域和链接性

+ 自动存储持续性：在函数定义中声明的变量（包括函数参数）的存储持续性为自动的。它们在程序开始执行其所属的函数或代码块时被创建，在执行完函数或代码块时，它们使用的内存被释放。 C++有两种存储持续性为自动的变量。
+ 静态存储持续性：在函数定义外定义的变量和使用关键字static定义的变量的存储持续性都为静态。它们在程序整个运行过程中都存在。C++有3种存储持续性为静态的变量。
+ 线程存储持续性(C++11)：当前，多核处理器很常见，这些CPU可同时处理多个执行任务。这让程序能够将计算放在可并行处理的不同线程中。如果变量是使用关键字`thread_local`声明的，则其生命周期与所属的线程一样长。
+ 动态存储持续性：用`new`运算符分配的内存将一直存在，直到使用`delete`运算符将其释放或程序 结束为止。这种内存的存储持续性为动态，有时被称为自由存储(freestore)或堆(heap)。

## 1.1 作用域

## 1.2 自动存储持续性

```c++
#include <iostream>
using namespace std;
int one;//在所有代码块外，全局变量
int main()
{
    int one; //代码块内又创建同名变量，原变量被隐藏，当此变量所在代码块执行完毕，原变量被显现
    int two; //只在该代码块内有效，局部变量
    {
        int three;
    }
}
```

### 1.2.1 自动变量和栈

栈是由一块内存和指针构成。一个指针指向栈顶一个指向栈底，每次向栈内添加变量栈顶的指针就会上移，不需要时就会回复到原位。