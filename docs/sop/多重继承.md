---
title: 多重继承
tags: []
categories:
  - [未分类]
date: 2023-04-04T00:49:29.000Z
updated: 2024-10-14T13:56:15.925Z
comments: false

---

<!--more-->
# 多重继承



![未命名文件](E:\markdown\图床\多重继承.png)

```c++
SingerWaiter ed;
Worker *p = &ed; //此时具有二义性
```



`singerwaiter`分别继承了`waiter`和`singer`中的`worker`基类，所以p并不知道到底是那个地址的`worker`

所以要使用强制类型转换

```c++
Worker *p = (Waiter *) &ed;
Worker *p = (Singer *) &ed;
```

## 虚基类

当使用虚基类的时候就不会出现上述情况

```c++
class Waiter : virtual public Worker;
class Singer : public virtual Worker;

class SingerWaiter : public Singer, public Waiter;
```

使用关键字`virtual`使得`waiter`和`singer`继承的基类是同一个地址基类，这样`singerwaiter`就不会出现二义性

## 混合使用虚基类和非虚基类

![虚基类混合继承](E:\markdown\图床\虚基类混合继承.png)